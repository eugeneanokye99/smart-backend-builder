Entity: Student
Base URL: http://localhost:3000

Endpoints:

1. Create Student
   - Method: POST
   - Path: /api/students
   - Purpose: Register a new student in the system.
   - Request Body:
     - firstName (String, Required): First name of the student.
     - lastName (String, Required): Last name of the student.
     - email (String, Required): Unique email address.
     - studentId (String, Required): Unique student identifier.
     - password (String, Required): Password (min 8 chars).
     - role (String, Optional): Default is "student".
     - status (String, Optional): Default is "active". Enum: ["active", "inactive", "suspended", "graduated"].
     - dateOfBirth (Date, Required): Student's DOB.
     - gender (String, Required): Enum: ["male", "female", "other"].
     - phoneNumber (String, Optional): Contact number.
     - address (Object, Optional): { street, city, state, zipCode, country }.
     - class (ObjectId, Required): Reference to the Class entity.
     - courses (Array of ObjectIds, Optional): List of enrolled course IDs.
     - guardian (Object, Optional): { firstName, lastName, email, phoneNumber, relationship }.
     - profilePicture (String, Optional): URL string.
   - Example Payload:
     {
       "firstName": "John",
       "lastName": "Doe",
       "email": "john.doe@example.com",
       "studentId": "STU123456",
       "password": "password123",
       "dateOfBirth": "2005-05-15",
       "gender": "male",
       "class": "60d5ecb8b487343510e8f25d",
       "address": {
         "city": "New York",
         "country": "USA"
       }
     }
   - Status Codes:
     - 201 Created: Student registered successfully.
     - 400 Bad Request: Validation error or missing fields.

2. Get All Students
   - Method: GET
   - Path: /api/students
   - Purpose: Retrieve a list of all students. Populates 'class' and 'courses' details.
   - Request Body: None
   - Status Codes:
     - 200 OK: List returned successfully.
     - 500 Internal Server Error.

3. Get Student by ID
   - Method: GET
   - Path: /api/students/:id
   - Purpose: Retrieve details of a specific student. Populates 'class' and 'courses' details.
   - Request Body: None
   - Status Codes:
     - 200 OK: Student found.
     - 404 Not Found: Invalid ID or student not found.
     - 500 Internal Server Error.

4. Update Student
   - Method: PUT
   - Path: /api/students/:id
   - Purpose: Update general information of a student. Note: Password should not be updated here.
   - Request Body: (Any defined field except password)
   - Example Payload:
     {
       "firstName": "Jonathan",
       "phoneNumber": "+19876543210"
     }
   - Status Codes:
     - 200 OK: Updated successfully.
     - 404 Not Found.
     - 400 Bad Request.

5. Delete Student
   - Method: DELETE
   - Path: /api/students/:id
   - Purpose: Remove a student from the system.
   - Request Body: None
   - Status Codes:
     - 200 OK: Deleted successfully.
     - 404 Not Found.
     - 500 Internal Server Error.

6. Student Login
   - Method: POST
   - Path: /api/students/login
   - Purpose: Authenticate a student.
   - Request Body:
     - email (String, Required)
     - password (String, Required)
   - Example Payload:
     {
       "email": "john.doe@example.com",
       "password": "password123"
     }
   - Status Codes:
     - 200 OK: Login successful.
     - 400 Bad Request: Missing credentials.
     - 401 Unauthorized: Invalid credentials.

7. Update Student Status
   - Method: PATCH
   - Path: /api/students/:id/status
   - Purpose: Change the status of a student.
   - Request Body:
     - status (String, Required): Enum ["active", "inactive", "suspended", "graduated"]
   - Example Payload:
     {
       "status": "graduated"
     }
   - Status Codes:
     - 200 OK: Status updated.
     - 404 Not Found.
     - 400 Bad Request.

8. Add Course to Student
   - Method: POST
   - Path: /api/students/:id/courses
   - Purpose: Enroll a student in a course.
   - Request Body:
     - courseId (ObjectId, Required)
   - Example Payload:
     {
       "courseId": "60d5ecb8b487343510e8f25e"
     }
   - Status Codes:
     - 200 OK: Course added.
     - 404 Not Found.
     - 400 Bad Request.

9. Remove Course from Student
   - Method: DELETE
   - Path: /api/students/:id/courses/:courseId
   - Purpose: Unenroll a student from a course.
   - Request Body: None
   - Status Codes:
     - 200 OK: Course removed.
     - 404 Not Found.
     - 400 Bad Request.

10. Update Student Address
    - Method: PUT
    - Path: /api/students/:id/address
    - Purpose: Update the student's address object.
    - Request Body:
      - street, city, state, zipCode, country (All String, Optional)
    - Example Payload:
      {
        "street": "123 New St",
        "city": "Boston"
      }
    - Status Codes:
      - 200 OK: Address updated.
      - 404 Not Found.
      - 400 Bad Request.

11. Update Student Guardian
    - Method: PUT
    - Path: /api/students/:id/guardian
    - Purpose: Update the student's guardian information.
    - Request Body:
      - firstName, lastName, email, phoneNumber, relationship
    - Example Payload:
      {
        "firstName": "Jane",
        "relationship": "parent"
      }
    - Status Codes:
      - 200 OK: Guardian updated.
      - 404 Not Found.
      - 400 Bad Request.

Full Schema Definition:
{
  "name": "Student",
  "schema": {
    "firstName": {
      "type": "String",
      "required": true,
      "trim": true,
      "maxlength": 50
    },
    "lastName": {
      "type": "String",
      "required": true,
      "trim": true,
      "maxlength": 50
    },
    "email": {
      "type": "String",
      "required": true,
      "unique": true,
      "lowercase": true,
      "trim": true,
      "match": "^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$"
    },
    "studentId": {
      "type": "String",
      "required": true,
      "unique": true,
      "trim": true,
      "maxlength": 20
    },
    "password": {
      "type": "String",
      "required": true,
      "minlength": 8,
      "select": false
    },
    "role": {
      "type": "String",
      "enum": ["student"],
      "default": "student"
    },
    "status": {
      "type": "String",
      "enum": ["active", "inactive", "suspended", "graduated"],
      "default": "active"
    },
    "dateOfBirth": {
      "type": "Date",
      "required": true
    },
    "gender": {
      "type": "String",
      "enum": ["male", "female", "other"],
      "required": true
    },
    "phoneNumber": {
      "type": "String",
      "trim": true,
      "match": "^(\\+\\d{1,3}[- ]?)?\\d{10}$"
    },
    "address": {
      "street": { "type": "String", "maxlength": 100, "trim": true },
      "city": { "type": "String", "maxlength": 50, "trim": true },
      "state": { "type": "String", "maxlength": 50, "trim": true },
      "zipCode": { "type": "String", "maxlength": 10, "trim": true },
      "country": { "type": "String", "maxlength": 50, "trim": true }
    },
    "enrollmentDate": {
      "type": "Date",
      "default": "Date.now"
    },
    "class": {
      "type": "ObjectId",
      "ref": "Class",
      "required": true
    },
    "courses": [
      {
        "type": "ObjectId",
        "ref": "Course"
      }
    ],
    "guardian": {
      "firstName": { "type": "String", "maxlength": 50, "trim": true },
      "lastName": { "type": "String", "maxlength": 50, "trim": true },
      "email": { "type": "String", "trim": true, "match": "^[\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4}$" },
      "phoneNumber": { "type": "String", "trim": true, "match": "^(\\+\\d{1,3}[- ]?)?\\d{10}$" },
      "relationship": { "type": "String", "enum": ["parent", "guardian", "sponsor", "other"] }
    },
    "profilePicture": {
      "type": "String",
      "default": null
    },
    "isEmailVerified": {
      "type": "Boolean",
      "default": false
    },
    "lastLogin": {
      "type": "Date"
    },
    "createdAt": {
      "type": "Date",
      "default": "Date.now"
    },
    "updatedAt": {
      "type": "Date",
      "default": "Date.now"
    }
  }
}
